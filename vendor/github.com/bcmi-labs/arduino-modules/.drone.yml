workspace:
  base: /go
  path: src/github.com/bcmi-labs/arduino-modules

pipeline:
  build:
    image: golang:latest
    commands:
      - go get "github.com/sergi/go-diff/diffmatchpatch"
      - go get "github.com/pborman/uuid"
      - go get "github.com/stretchr/testify/suite"
      - go get ./...
      - go build ./...
      - go test ./... -race

services:
  rethink:
    image: rethinkdb
    command: [ rethinkdb, --bind, all ]